{
    "accountId": "1a23",
    "actions": {
        "activateservices": "http://127.0.0.1:8080/v2-beta/stacks/1st15/?action=activateservices",
        "addoutputs": "http://127.0.0.1:8080/v2-beta/stacks/1st15/?action=addoutputs",
        "deactivateservices": "http://127.0.0.1:8080/v2-beta/stacks/1st15/?action=deactivateservices",
        "exportconfig": "http://127.0.0.1:8080/v2-beta/stacks/1st15/?action=exportconfig",
        "remove": "http://127.0.0.1:8080/v2-beta/stacks/1st15/?action=remove",
        "update": "http://127.0.0.1:8080/v2-beta/stacks/1st15/?action=update",
        "upgrade": "http://127.0.0.1:8080/v2-beta/stacks/1st15/?action=upgrade"
    },
    "baseType": "stack",
    "binding": null,
    "created": "2017-01-26T11:56:39Z",
    "createdTS": 1485431799000,
    "data": {
        "fields": {
            "binding": null,
            "dockerCompose": "version: '2'\nservices:\n  ipsec:\n    # IMPORTANT!!!! DO NOT CHANGE VERSION ON UPGRADE\n    image: rancher/net:holder\n    command: sh -c \"echo Refer to router sidekick for logs; mkfifo f; exec cat f\"\n    network_mode: ipsec\n    ports:\n    - 500:500/udp\n    - 4500:4500/udp\n    labels:\n      io.rancher.sidekicks: router,cni-driver\n      io.rancher.scheduler.global: 'true'\n  router:\n    cap_add:\n    - NET_ADMIN\n    image: rancher/net:v0.8.1\n    network_mode: container:ipsec\n    labels:\n      io.rancher.container.create_agent: 'true'\n      io.rancher.container.agent_service.ipsec: 'true'\n    logging:\n      driver: json-file\n      options:\n        max-size: 25m\n        max-file: '2'\n  cni-driver:\n    privileged: true\n    image: rancher/net:v0.8.1\n    command: sh -c \"touch /var/log/rancher-ipam.log && exec tail ---disable-inotify -F /var/log/rancher-ipam.log\"\n    network_mode: host\n    pid: host\n    labels:\n      io.rancher.network.cni.binary: 'rancher-bridge'\n      io.rancher.container.dns: 'true'\n    logging:\n      driver: json-file\n      options:\n        max-size: 25m\n        max-file: '2'\n",
            "environment": null,
            "rancherCompose": ".catalog:\n  name: \"Rancher IPsec\"\n  version: \"0.0.2\"\n  questions:\n    - variable: \"DOCKER_BRIDGE\"\n      label: \"Docker Bridge\"\n      description: \"Name of Docker Bridge. Default is `docker0`\"\n      type: \"string\"\n      default: \"docker0\"\n      required: true\n    - variable: \"SUBNET\"\n      label: \"Subnet\"\n      description: \"The subnet to use for the managed IPSEC network.\"\n      type: \"string\"\n      default: '10.42.0.0/16'\n      required: true\n\nipsec:\n  network_driver:\n    name: Rancher IPsec\n    default_network:\n      name: ipsec\n      host_ports: true\n      subnets:\n      - network_address: $SUBNET\n      dns:\n      - 169.254.169.250\n      dns_search:\n      - rancher.internal\n    cni_config:\n      '10-rancher.conf':\n        name: rancher-cni-network\n        type: rancher-bridge\n        bridge: $DOCKER_BRIDGE\n        bridgeSubnet: $SUBNET\n        isDefaultGateway: true\n        hostNat: true\n        hairpinMode: true\n        linkMTUOverhead: 98\n        ipam:\n          type: rancher-cni-ipam\n          logToFile: /var/log/rancher-ipam.log\n          routes:\n          - dst: 169.254.169.250/32\n",
            "transitioningMessage": "Creating stack"
        }
    },
    "description": null,
    "dockerCompose": "version: '2'\nservices:\n  ipsec:\n    # IMPORTANT!!!! DO NOT CHANGE VERSION ON UPGRADE\n    image: rancher/net:holder\n    command: sh -c \"echo Refer to router sidekick for logs; mkfifo f; exec cat f\"\n    network_mode: ipsec\n    ports:\n    - 500:500/udp\n    - 4500:4500/udp\n    labels:\n      io.rancher.sidekicks: router,cni-driver\n      io.rancher.scheduler.global: 'true'\n  router:\n    cap_add:\n    - NET_ADMIN\n    image: rancher/net:v0.8.1\n    network_mode: container:ipsec\n    labels:\n      io.rancher.container.create_agent: 'true'\n      io.rancher.container.agent_service.ipsec: 'true'\n    logging:\n      driver: json-file\n      options:\n        max-size: 25m\n        max-file: '2'\n  cni-driver:\n    privileged: true\n    image: rancher/net:v0.8.1\n    command: sh -c \"touch /var/log/rancher-ipam.log && exec tail ---disable-inotify -F /var/log/rancher-ipam.log\"\n    network_mode: host\n    pid: host\n    labels:\n      io.rancher.network.cni.binary: 'rancher-bridge'\n      io.rancher.container.dns: 'true'\n    logging:\n      driver: json-file\n      options:\n        max-size: 25m\n        max-file: '2'\n",
    "environment": null,
    "externalId": "catalog://library:infra*ipsec:1",
    "group": null,
    "healthState": "healthy",
    "id": "1st15",
    "kind": "stack",
    "links": {
        "account": "http://127.0.0.1:8080/v2-beta/stacks/1st15/account",
        "composeConfig": "http://127.0.0.1:8080/v2-beta/stacks/1st15/composeconfig",
        "configItemStatuses": "http://127.0.0.1:8080/v2-beta/stacks/1st15/configitemstatuses",
        "self": "http://127.0.0.1:8080/v2-beta/stacks/1st15",
        "services": "http://127.0.0.1:8080/v2-beta/stacks/1st15/services",
        "volumeTemplates": "http://127.0.0.1:8080/v2-beta/stacks/1st15/volumetemplates",
        "volumes": "http://127.0.0.1:8080/v2-beta/stacks/1st15/volumes"
    },
    "name": "ipsec",
    "outputs": null,
    "previousEnvironment": null,
    "previousExternalId": null,
    "rancherCompose": ".catalog:\n  name: \"Rancher IPsec\"\n  version: \"0.0.2\"\n  questions:\n    - variable: \"DOCKER_BRIDGE\"\n      label: \"Docker Bridge\"\n      description: \"Name of Docker Bridge. Default is `docker0`\"\n      type: \"string\"\n      default: \"docker0\"\n      required: true\n    - variable: \"SUBNET\"\n      label: \"Subnet\"\n      description: \"The subnet to use for the managed IPSEC network.\"\n      type: \"string\"\n      default: '10.42.0.0/16'\n      required: true\n\nipsec:\n  network_driver:\n    name: Rancher IPsec\n    default_network:\n      name: ipsec\n      host_ports: true\n      subnets:\n      - network_address: $SUBNET\n      dns:\n      - 169.254.169.250\n      dns_search:\n      - rancher.internal\n    cni_config:\n      '10-rancher.conf':\n        name: rancher-cni-network\n        type: rancher-bridge\n        bridge: $DOCKER_BRIDGE\n        bridgeSubnet: $SUBNET\n        isDefaultGateway: true\n        hostNat: true\n        hairpinMode: true\n        linkMTUOverhead: 98\n        ipam:\n          type: rancher-cni-ipam\n          logToFile: /var/log/rancher-ipam.log\n          routes:\n          - dst: 169.254.169.250/32\n",
    "removeTime": null,
    "removed": null,
    "serviceIds": [
        "1s20"
    ],
    "startOnCreate": null,
    "state": "active",
    "system": true,
    "transitioning": "no",
    "transitioningMessage": null,
    "transitioningProgress": null,
    "type": "stack",
    "uuid": "05457651-84f7-4964-87e7-085d39009bb2"
}
